{"mappings":"AAGA,IAAIA,EAAc,EACdC,EAAe,GAEnB,MAAMC,EAAaC,SAASC,eAAe,eACrCC,EAAcF,SAASG,cAAc,cACrCC,EAAmBJ,SAASC,eAAe,WAmBjD,SAASI,EAAaC,GACpB,MAAMC,EAAM,qEAA6CD,kEAAsET,gBAE/HW,MACGC,IAAIF,GACJG,MAAKC,IACJ,MAAMC,KAAEA,EAAIC,UAAEA,GAAcF,EAASG,KACjB,IAAhBF,EAAKG,QAUKH,EAaXI,SAAQC,IACb,MAAMC,EAAOlB,SAASmB,cAAc,OACpCD,EAAKE,UAAUC,IAAI,cAEnB,MAAMC,EAAMtB,SAASmB,cAAc,OACnCG,EAAIC,IAAMN,EAAMO,aAChBF,EAAIG,IAAMR,EAAMS,KAChBJ,EAAIK,QAAU,OAEd,MAAMC,EAAO5B,SAASmB,cAAc,OACpCS,EAAKR,UAAUC,IAAI,QAEnB,MAAMQ,EAAQC,EAAe,QAASb,EAAMY,OACtCE,EAAQD,EAAe,QAASb,EAAMc,OACtCC,EAAWF,EAAe,WAAYb,EAAMe,UAC5CC,EAAYH,EAAe,YAAab,EAAMgB,WAEpDL,EAAKM,OAAOL,EAAOE,EAAOC,EAAUC,GACpCf,EAAKgB,OAAOZ,EAAKM,GACjBxB,EAAiB8B,OAAOhB,EAAK,IAY/BhB,EAAYiC,MAAMC,QA3CVvB,EAA0B,GAAdhB,EA2CQ,QAIA,QAzDF,IAAhBA,EACFwC,MACE,4EAGFA,MAAM,6DAQY,IAGvBC,OAAMC,IACLC,QAAQD,MAAMA,EAAM,G,CA4B1B,SAAST,EAAeW,EAAOC,GAC7B,MAAMC,EAAI3C,SAASmB,cAAc,KAGjC,OAFAwB,EAAEvB,UAAUC,IAAI,aAChBsB,EAAEC,UAAY,MAAMH,UAAcC,IAC3BC,C,CA1ET5C,EAAW8C,iBAAiB,UAAUC,IACpCA,EAAEC,iBACF,MAAMC,EAAcF,EAAEG,OAAOC,SAASF,YAAYN,MAAMS,OACpC,KAAhBH,IAGJlD,EAAekD,EACfnD,EAAc,EACdO,EAAiBwC,UAAY,GAC7BvC,EAAa2C,GAAY,IAG3B9C,EAAY2C,iBAAiB,SAAS,KACpChD,IACAQ,EAAaP,EAAa","sources":["src/index.js"],"sourcesContent":["// import Notiflix from 'notiflix';\n\nconst API_KEY = '37248711-c91549f463c72d1d85eaef75b';\nlet currentPage = 1;\nlet currentQuery = '';\n\nconst searchForm = document.getElementById('search-form');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst galleryContainer = document.getElementById('gallery');\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const searchQuery = e.target.elements.searchQuery.value.trim();\n  if (searchQuery === '') {\n    return;\n  }\n  currentQuery = searchQuery;\n  currentPage = 1;\n  galleryContainer.innerHTML = '';\n  searchImages(searchQuery);\n});\n\nloadMoreBtn.addEventListener('click', () => {\n  currentPage++;\n  searchImages(currentQuery);\n});\n\nfunction searchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${currentPage}&per_page=15`;\n\n  axios\n    .get(url)\n    .then(response => {\n      const { hits, totalHits } = response.data;\n      if (hits.length === 0) {\n        if (currentPage === 1) {\n          alert(\n            'Sorry, there are no images matching your search query. Please try again.'\n          );\n        } else {\n          alert(\"We're sorry, but you've reached the end of search results.\");\n        }\n        return;\n      }\n      createGallery(hits);\n      if (totalHits > currentPage * 40) {\n        showLoadMoreButton();\n      } else {\n        hideLoadMoreButton();\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n\nfunction createGallery(images) {\n  images.forEach(image => {\n    const card = document.createElement('div');\n    card.classList.add('photo-card');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    img.loading = 'lazy';\n\n    const info = document.createElement('div');\n    info.classList.add('info');\n\n    const likes = createInfoItem('Likes', image.likes);\n    const views = createInfoItem('Views', image.views);\n    const comments = createInfoItem('Comments', image.comments);\n    const downloads = createInfoItem('Downloads', image.downloads);\n\n    info.append(likes, views, comments, downloads);\n    card.append(img, info);\n    galleryContainer.append(card);\n  });\n}\n\nfunction createInfoItem(label, value) {\n  const p = document.createElement('p');\n  p.classList.add('info-item');\n  p.innerHTML = `<b>${label}:</b> ${value}`;\n  return p;\n}\n\nfunction showLoadMoreButton() {\n  loadMoreBtn.style.display = 'block';\n}\n\nfunction hideLoadMoreButton() {\n  loadMoreBtn.style.display = 'none';\n}\n\nfunction showNotification(message) {\n  alert(message);\n}\n"],"names":["$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$currentQuery","$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$loadMoreBtn","querySelector","$1f0dc3b9307be026$var$galleryContainer","$1f0dc3b9307be026$var$searchImages","query","url","axios","get","then","response","hits","totalHits","data","length","forEach","image","card","createElement","classList","add","img","src","webformatURL","alt","tags","loading","info","likes","$1f0dc3b9307be026$var$createInfoItem","views","comments","downloads","append","style","display","alert","catch","error","console","label","value","p","innerHTML","addEventListener","e","preventDefault","searchQuery","target","elements","trim"],"version":3,"file":"index.707e0cce.js.map"}